
> firestore-rules-tests@1.0.0 test
> jest --testEnvironment=node

FAIL ./storage.test.js
  ΓùÅ Storage Rules - Profile Pictures ΓÇ║ authenticated user can upload image to their profile folder

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Profile Pictures ΓÇ║ authenticated user can read from their profile folder

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Profile Pictures ΓÇ║ authenticated user cannot upload to another users profile folder

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Profile Pictures ΓÇ║ unauthenticated user cannot upload profile picture

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Profile Pictures ΓÇ║ user can upload PNG image to profile folder

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Profile Pictures ΓÇ║ user can upload WebP image to profile folder

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Profile Pictures ΓÇ║ user cannot upload non-image file to profile folder

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Profile Pictures ΓÇ║ user cannot upload file exceeding 5MB to profile folder

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Profile Pictures ΓÇ║ user can upload file at 5MB limit to profile folder

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Chat Attachments ΓÇ║ authenticated user can upload image to chat attachments

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Chat Attachments ΓÇ║ authenticated user can upload PDF to chat attachments

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Chat Attachments ΓÇ║ authenticated user can upload Word document to chat attachments

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Chat Attachments ΓÇ║ authenticated user can upload text file to chat attachments

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Chat Attachments ΓÇ║ authenticated user can read chat attachments

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Chat Attachments ΓÇ║ unauthenticated user cannot upload to chat attachments

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Chat Attachments ΓÇ║ user cannot upload file exceeding 10MB to chat attachments

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Chat Attachments ΓÇ║ user can upload file at 10MB limit to chat attachments

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Chat Attachments ΓÇ║ user cannot upload executable file to chat attachments

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Chat Attachments ΓÇ║ user cannot upload script file to chat attachments

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Invalid Paths ΓÇ║ user cannot upload to root path

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Invalid Paths ΓÇ║ user cannot upload to arbitrary path

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Storage Rules - Invalid Paths ΓÇ║ user cannot read from arbitrary path

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)


  ΓùÅ Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'cleanup')

      27 |
      28 | afterAll(async () => {
    > 29 |     await testEnv.cleanup();
         |                   ^
      30 | });
      31 |
      32 | beforeEach(async () => {

      at Object.cleanup (storage.test.js:29:19)

FAIL ./integration.test.js
  ΓùÅ Integration Test 14.1 - Group Workflow ΓÇ║ Complete workflow: Create group ΓåÆ Create group task ΓåÆ Verify member access

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Integration Test 14.1 - Group Workflow ΓÇ║ Complete workflow: Create public group ΓåÆ Verify non-member can discover

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Integration Test 14.1 - Group Workflow ΓÇ║ Complete workflow: Add user to group ΓåÆ Verify they can access group data

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Integration Test 14.2 - Chat Workflow ΓÇ║ Complete workflow: Create chat ΓåÆ Send message ΓåÆ Verify participant access

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Integration Test 14.2 - Chat Workflow ΓÇ║ Complete workflow: Test typing indicators work correctly

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Integration Test 14.2 - Chat Workflow ΓÇ║ Complete workflow: Test message validation prevents invalid content

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Integration Test 14.3 - File Upload Workflow ΓÇ║ Complete workflow: Upload profile picture ΓåÆ Verify URL validation

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Integration Test 14.3 - File Upload Workflow ΓÇ║ Complete workflow: Upload chat attachment ΓåÆ Verify type and size validation

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

  ΓùÅ Integration Test 14.3 - File Upload Workflow ΓÇ║ Complete workflow: Test invalid uploads are rejected with clear errors

    FetchError: request to http://localhost:9199/internal/setRules failed, reason:

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)


  ΓùÅ Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'cleanup')

      38 |
      39 | afterAll(async () => {
    > 40 |     await testEnv.cleanup();
         |                   ^
      41 | });
      42 |
      43 | beforeEach(async () => {

      at Object.cleanup (integration.test.js:40:19)

  console.warn
    [2025-10-29T13:20:38.869Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32085 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L92, false for 'update' @ L99

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:39.074Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32086 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L92, false for 'update' @ L99

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:39.125Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32088 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L99:24 for 'update' @ L99, false for 'update' @ L99

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:39.170Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b3208a error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L99:24 for 'update' @ L99, false for 'update' @ L99

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:39.245Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b3208d error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L92, false for 'update' @ L99

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:39.273Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b3208e error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L92, evaluation error at L99:24 for 'update' @ L99, false for 'create' @ L92

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:39.408Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32094 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L130:24 for 'create' @ L130, evaluation error at L142:24 for 'update' @ L142, false for 'create' @ L130

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:39.481Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32097 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L130, false for 'update' @ L142

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:39.505Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32098 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L130, false for 'update' @ L142

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:39.550Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b3209a error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L142:24 for 'update' @ L142, false for 'update' @ L142

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:39.592Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b3209c error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L142:24 for 'update' @ L142, false for 'update' @ L142

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:39.964Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320ac error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L168, evaluation error at L178:24 for 'update' @ L178, false for 'create' @ L168

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:39.992Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320ad error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L168, evaluation error at L178:24 for 'update' @ L178, false for 'create' @ L168

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.063Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320b0 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L168, evaluation error at L178:24 for 'update' @ L178, false for 'create' @ L168

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.087Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320b1 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L168, evaluation error at L178:24 for 'update' @ L178, false for 'create' @ L168

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.175Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320b5 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L178:24 for 'update' @ L178, false for 'update' @ L178

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.215Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320b7 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L178:24 for 'update' @ L178, false for 'update' @ L178

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.258Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320b9 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L178:24 for 'update' @ L178, false for 'update' @ L178

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.342Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320bd error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L194, evaluation error at L211:26 for 'update' @ L211, false for 'create' @ L194

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.389Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320bf error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L194, evaluation error at L211:26 for 'update' @ L211, false for 'create' @ L194

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.433Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320c1 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L194, evaluation error at L211:26 for 'update' @ L211, false for 'create' @ L194

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.476Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320c3 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L194, evaluation error at L211:26 for 'update' @ L211, false for 'create' @ L194

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.523Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320c5 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L194, evaluation error at L211:26 for 'update' @ L211, false for 'create' @ L194

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.576Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320c7 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L194, evaluation error at L211:26 for 'update' @ L211, false for 'create' @ L194

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.622Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320c9 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L194, evaluation error at L211:26 for 'update' @ L211, false for 'create' @ L194

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.666Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320cb error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L194, evaluation error at L211:26 for 'update' @ L211, false for 'create' @ L194

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.711Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320cd error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L194, evaluation error at L211:26 for 'update' @ L211, false for 'create' @ L194

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.892Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320d6 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L231, false for 'update' @ L231

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:40.933Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320d8 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L231:23 for 'create' @ L231, evaluation error at L231:23 for 'update' @ L231, false for 'create' @ L231

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:41.301Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320e8 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L288:24 for 'create' @ L288, evaluation error at L293:24 for 'update' @ L293, false for 'create' @ L288

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:41.505Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320ef error. Code: 7 Message: 7 PERMISSION_DENIED: 
    Property timestamp is undefined on object. for 'create' @ L251, evaluation error at L266:24 for 'update' @ L266, Property timestamp is undefined on object. for 'create' @ L251

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:41.594Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320f3 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L266:24 for 'update' @ L266, false for 'update' @ L266

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:41.638Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320f5 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L266:24 for 'update' @ L266, false for 'update' @ L266

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:41.731Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b320f9 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L272:24 for 'delete' @ L272, false for 'delete' @ L272

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:41.903Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32100 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L66, false for 'update' @ L71

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:41.943Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32102 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'update' @ L71

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:42.034Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32106 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L66, false for 'update' @ L71

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:42.111Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b3210a error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L71:24 for 'update' @ L71, false for 'update' @ L71

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:42.189Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b3210d error. Code: 7 Message: 7 PERMISSION_DENIED: 
    Property userId is undefined on object. for 'create' @ L251, Property userId is undefined on object. for 'create' @ L251

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:42.214Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b3210e error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L251

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:42.237Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b3210f error. Code: 7 Message: 7 PERMISSION_DENIED: 
    Property type is undefined on object. for 'create' @ L251, Property type is undefined on object. for 'create' @ L251

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:42.271Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32110 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L251

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:42.296Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32111 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    Property timestamp is undefined on object. for 'create' @ L251, Property timestamp is undefined on object. for 'create' @ L251

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:42.319Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32112 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L251

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:42.340Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32113 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L251

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:42.400Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32115 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L251

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:42.626Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b3211f error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L266:24 for 'update' @ L266, false for 'update' @ L266

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:42.672Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32121 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L266:24 for 'update' @ L266, false for 'update' @ L266

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:42.718Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32123 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L266:24 for 'update' @ L266, false for 'update' @ L266

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:42.798Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32127 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L272:24 for 'delete' @ L272, false for 'delete' @ L272

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:20:42.841Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x18b32129 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'delete' @ L272

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

FAIL ./firestore.test.js (5.937 s)
  Groups Collection - Read Permissions
    ΓêÜ user can read groups they are a member of (446 ms)
    ├ù user can query groups using array-contains filter (34 ms)
    ΓêÜ user cannot read groups they are not a member of (54 ms)
    ΓêÜ unauthenticated user cannot read groups (63 ms)
  Groups Collection - Public Group Discovery
    ΓêÜ any authenticated user can read public groups (50 ms)
    ΓêÜ non-member cannot read private groups (50 ms)
    ├ù user can query public groups with isPublic filter (25 ms)
    ΓêÜ member can read private group even when isPublic is false (44 ms)
  Groups Collection - Member Limit Validation
    ΓêÜ user can create group with 1 member (minimum) (28 ms)
    ΓêÜ user can create group with 100 members (maximum) (28 ms)
    ΓêÜ user cannot create group with 0 members (198 ms)
    ΓêÜ user cannot create group with 101 members (exceeds maximum) (39 ms)
    ΓêÜ user cannot update group to exceed 100 members (50 ms)
    ΓêÜ owner must remain in memberIds when updating (46 ms)
  Groups Collection - Create Permissions
    ΓêÜ user can create group with themselves as member and owner (29 ms)
    ΓêÜ user can create group with themselves and others as members (22 ms)
    ΓêÜ user cannot create group without themselves as member (24 ms)
    ΓêÜ user cannot create group with different owner (27 ms)
  Tasks Collection - Group Membership Validation
    ├ù group member can read group tasks (20 ms)
    ├ù non-member cannot read group tasks (20 ms)
    ΓêÜ user can create group task if they are a group member (45 ms)
    ΓêÜ non-member cannot create group task (49 ms)
  Tasks Collection - Assignment Limit Validation
    ΓêÜ user can create task with 1 assignee (minimum) (24 ms)
    ΓêÜ user can create task with 50 assignees (maximum) (23 ms)
    ΓêÜ user cannot create task with 0 assignees (24 ms)
    ΓêÜ user cannot create task with 51 assignees (exceeds maximum) (24 ms)
    ΓêÜ user cannot update task to exceed 50 assignees (44 ms)
    ΓêÜ user cannot update task to have 0 assignees (41 ms)
  Tasks Collection - Read Permissions
    ΓêÜ user can read tasks they created (56 ms)
    ΓêÜ user can read tasks they are assigned to (51 ms)
    ├ù user can query tasks using userId filter (20 ms)
    ΓêÜ user can query tasks using assignedTo filter (47 ms)
    ΓêÜ user cannot read tasks they did not create or are not assigned to (48 ms)
  Chats Collection - Read Permissions
    ΓêÜ user can read chats they are a participant in (40 ms)
    ├ù user can query chats using participants filter (18 ms)
    ΓêÜ user cannot read chats they are not a participant in (40 ms)
  Chats Collection - Create Permissions with Participant Limits
    ΓêÜ user can create DIRECT chat with exactly 2 participants (23 ms)
    ΓêÜ user cannot create DIRECT chat with 1 participant (29 ms)
    ΓêÜ user cannot create DIRECT chat with 3 participants (27 ms)
    ΓêÜ user can create GROUP chat with 2 participants (23 ms)
    ΓêÜ user can create GROUP chat with 3 participants (25 ms)
    ΓêÜ user cannot create GROUP chat with 1 participant (24 ms)
    ΓêÜ user cannot create chat without themselves as participant (23 ms)
  Chats Collection - Update Permissions
    ΓêÜ participant can update chat metadata (40 ms)
    ΓêÜ participant cannot modify participants array (49 ms)
    ΓêÜ participant cannot remove themselves from participants (40 ms)
    ΓêÜ non-participant cannot update chat (42 ms)
  Messages Subcollection - Access Control
    ├ù chat participant can read messages (19 ms)
    ├ù non-participant cannot read messages (23 ms)
    ├ù participant can create message with valid text (42 ms)
    ├ù participant can create message with valid imageUrl (47 ms)
    ΓêÜ non-participant cannot create message (44 ms)
  Messages Subcollection - Content Validation
    ΓêÜ cannot create message without text, imageUrl, or documentUrl (43 ms)
    ΓêÜ cannot create message with text exceeding 10000 characters (47 ms)
    ├ù can create message with text at 10000 characters (boundary) (53 ms)
    ΓêÜ cannot create message with external imageUrl (46 ms)
    ΓêÜ cannot create message with external documentUrl (44 ms)
    ΓêÜ cannot create message with mismatched senderId (45 ms)
    ├ù sender can update their own message (20 ms)
    ├ù sender can delete their own message (18 ms)
    ├ù other participant cannot delete message they did not send (21 ms)
  Typing Status Subcollection - Access Control
    ├ù participant can read typing status (17 ms)
    ├ù non-participant cannot read typing status (19 ms)
    ΓêÜ participant can write their own typing status (43 ms)
    ΓêÜ participant cannot write another users typing status (41 ms)
    ΓêÜ non-participant cannot write typing status (40 ms)
  Permission Denied Scenarios
    ΓêÜ querying groups without filter returns empty results for non-members (49 ms)
    ΓêÜ querying tasks without filter returns empty results for non-owners (50 ms)
    ΓêÜ querying chats without filter returns empty results for non-participants (49 ms)
  Group Activities - Read Permissions
    ├ù user can read activities from groups they are members of (denormalized memberIds) (51 ms)
    ├ù user can read activities using isGroupMember fallback (no memberIds) (19 ms)
    ΓêÜ user cannot read activities from groups they are not members of (denormalized) (46 ms)
    ├ù user cannot read activities from groups they are not members of (fallback) (19 ms)
  Group Activities - Create Permissions
    ΓêÜ group member can create activity with memberIds (41 ms)
    ΓêÜ non-member cannot create activity (44 ms)
    ├ù creator must be in memberIds array (54 ms)
  Notifications Collection - Enhanced Rules
    ΓêÜ user can read their own notifications (58 ms)
    ΓêÜ user cannot read other users notifications (49 ms)
    ΓêÜ user cannot create notifications (client-side blocked) (26 ms)
    ΓêÜ user can update only the read field of their notification (43 ms)
    ΓêÜ user cannot update other fields of their notification (45 ms)
    ΓêÜ user cannot update multiple fields including read (45 ms)
    ΓêÜ user can delete their own notifications (47 ms)
    ΓêÜ user cannot delete other users notifications (45 ms)
  Authentication Rules - Basic Access Control
    ΓêÜ unauthenticated user cannot read users collection (49 ms)
    ΓêÜ authenticated user can read their own user document (51 ms)
    ΓêÜ authenticated user can read other users public data (49 ms)
    ΓêÜ authenticated user cannot create document for another user (23 ms)
    ΓêÜ authenticated user cannot update another users document (40 ms)
  Users Collection - Profile Picture URL Validation
    ΓêÜ user can create profile with valid Firebase Storage URL (26 ms)
    ΓêÜ user can create profile with empty profileImageUrl (20 ms)
    ΓêÜ user can create profile without profileImageUrl field (23 ms)
    ΓêÜ user cannot create profile with external URL (22 ms)
    ΓêÜ user can update profile with valid Firebase Storage URL (39 ms)
    ΓêÜ user cannot update profile with external URL (39 ms)
  Notifications Collection - Create Permissions
    ΓêÜ authenticated user can create notification with valid data (25 ms)
    ΓêÜ authenticated user can create notification for any user (25 ms)
    ΓêÜ authenticated user cannot create notification without userId (27 ms)
    ΓêÜ authenticated user cannot create notification with empty userId (25 ms)
    ΓêÜ authenticated user cannot create notification without type (23 ms)
    ΓêÜ authenticated user cannot create notification with empty type (34 ms)
    ΓêÜ authenticated user cannot create notification without timestamp (25 ms)
    ΓêÜ authenticated user cannot create notification with old timestamp (23 ms)
    ΓêÜ authenticated user cannot create notification with message exceeding 500 characters (21 ms)
    ΓêÜ authenticated user can create notification with message at 500 character limit (25 ms)
    ΓêÜ unauthenticated user cannot create notification (35 ms)
  Notifications Collection - Read Permissions
    ΓêÜ user can read their own notifications (47 ms)
    ΓêÜ user cannot read other users notifications (51 ms)
    ΓêÜ unauthenticated user cannot read notifications (40 ms)
  Notifications Collection - Update Permissions
    ΓêÜ user can update read status of their own notification (46 ms)
    ΓêÜ user cannot update other fields of their notification (42 ms)
    ΓêÜ user cannot update read status and other fields together (46 ms)
    ΓêÜ user cannot update other users notifications (46 ms)
  Notifications Collection - Delete Permissions
    ΓêÜ user can delete their own notifications (39 ms)
    ΓêÜ user cannot delete other users notifications (41 ms)
    ΓêÜ unauthenticated user cannot delete notifications (43 ms)

  ΓùÅ Groups Collection - Read Permissions ΓÇ║ user can query groups using array-contains filter

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Groups Collection - Public Group Discovery ΓÇ║ user can query public groups with isPublic filter

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Tasks Collection - Group Membership Validation ΓÇ║ group member can read group tasks

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Tasks Collection - Group Membership Validation ΓÇ║ non-member cannot read group tasks

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Tasks Collection - Read Permissions ΓÇ║ user can query tasks using userId filter

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Chats Collection - Read Permissions ΓÇ║ user can query chats using participants filter

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Messages Subcollection - Access Control ΓÇ║ chat participant can read messages

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Messages Subcollection - Access Control ΓÇ║ non-participant cannot read messages

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Messages Subcollection - Access Control ΓÇ║ participant can create message with valid text

    FirebaseError: 7 PERMISSION_DENIED:

      false for 'create' @ L194, evaluation error at L211:26 for 'update' @ L211, false for 'create' @ L194

  ΓùÅ Messages Subcollection - Access Control ΓÇ║ participant can create message with valid imageUrl

    FirebaseError: 7 PERMISSION_DENIED:

      false for 'create' @ L194, evaluation error at L211:26 for 'update' @ L211, false for 'create' @ L194

  ΓùÅ Messages Subcollection - Content Validation ΓÇ║ can create message with text at 10000 characters (boundary)

    FirebaseError: 7 PERMISSION_DENIED:

      false for 'create' @ L194, evaluation error at L211:26 for 'update' @ L211, false for 'create' @ L194

  ΓùÅ Messages Subcollection - Content Validation ΓÇ║ sender can update their own message

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Messages Subcollection - Content Validation ΓÇ║ sender can delete their own message

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Messages Subcollection - Content Validation ΓÇ║ other participant cannot delete message they did not send

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Typing Status Subcollection - Access Control ΓÇ║ participant can read typing status

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Typing Status Subcollection - Access Control ΓÇ║ non-participant cannot read typing status

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Group Activities - Read Permissions ΓÇ║ user can read activities from groups they are members of (denormalized memberIds)

    FirebaseError:

      evaluation error at L283:22 for 'get' @ L283, false for 'get' @ L283

  ΓùÅ Group Activities - Read Permissions ΓÇ║ user can read activities using isGroupMember fallback (no memberIds)

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Group Activities - Read Permissions ΓÇ║ user cannot read activities from groups they are not members of (fallback)

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Group Activities - Create Permissions ΓÇ║ creator must be in memberIds array

    Expected request to fail, but it succeeded.

      1622 |         // Test: user1 cannot create activity without themselves in memberIds
      1623 |         const user1Context = testEnv.authenticatedContext(USER1_ID);
    > 1624 |         await assertFails(
           |         ^
      1625 |             user1Context.firestore().collection('group_activities').doc('activity1').set({
      1626 |                 groupId: GROUP1_ID,
      1627 |                 userId: USER1_ID,

      at node_modules/@firebase/rules-unit-testing/src/util.ts:138:9
      at Object.<anonymous> (firestore.test.js:1624:9)

Test Suites: 3 failed, 3 total
Tests:       51 failed, 96 passed, 147 total
Snapshots:   0 total
Time:        6.214 s, estimated 7 s
Ran all test suites.
