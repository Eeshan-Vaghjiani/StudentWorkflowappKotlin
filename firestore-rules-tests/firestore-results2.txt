
> firestore-rules-tests@1.0.0 test
> jest --testEnvironment=node firestore.test.js

  console.warn
    [2025-10-29T13:25:12.043Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb600 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L88, false for 'update' @ L95

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:12.235Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb601 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L88, false for 'update' @ L95

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:12.285Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb603 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L95:24 for 'update' @ L95, false for 'update' @ L95

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:12.328Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb605 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L95:24 for 'update' @ L95, false for 'update' @ L95

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:12.398Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb608 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L88, false for 'update' @ L95

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:12.422Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb609 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L88, evaluation error at L95:24 for 'update' @ L95, false for 'create' @ L88

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:12.633Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb612 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L123, false for 'update' @ L132

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:12.660Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb613 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L123, false for 'update' @ L132

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:12.710Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb615 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L132:24 for 'update' @ L132, false for 'update' @ L132

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:12.753Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb617 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L132:24 for 'update' @ L132, false for 'update' @ L132

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.104Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb627 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L155, evaluation error at L165:24 for 'update' @ L165, false for 'create' @ L155

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.129Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb628 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L155, evaluation error at L165:24 for 'update' @ L165, false for 'create' @ L155

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.203Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb62b error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L155, evaluation error at L165:24 for 'update' @ L165, false for 'create' @ L155

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.225Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb62c error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L155, evaluation error at L165:24 for 'update' @ L165, false for 'create' @ L155

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.305Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb630 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L165:24 for 'update' @ L165, false for 'update' @ L165

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.345Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb632 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L165:24 for 'update' @ L165, false for 'update' @ L165

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.385Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb634 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L165:24 for 'update' @ L165, false for 'update' @ L165

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.469Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb638 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L181, evaluation error at L198:26 for 'update' @ L198, false for 'create' @ L181

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.513Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb63a error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L181, evaluation error at L198:26 for 'update' @ L198, false for 'create' @ L181

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.567Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb63c error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L181, evaluation error at L198:26 for 'update' @ L198, false for 'create' @ L181

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.609Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb63e error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L181, evaluation error at L198:26 for 'update' @ L198, false for 'create' @ L181

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.654Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb640 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L181, evaluation error at L198:26 for 'update' @ L198, false for 'create' @ L181

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.694Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb642 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L181, evaluation error at L198:26 for 'update' @ L198, false for 'create' @ L181

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.734Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb644 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L181, evaluation error at L198:26 for 'update' @ L198, false for 'create' @ L181

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.778Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb646 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L181, evaluation error at L198:26 for 'update' @ L198, false for 'create' @ L181

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.818Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb648 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L181, evaluation error at L198:26 for 'update' @ L198, false for 'create' @ L181

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:13.993Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb651 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L218, false for 'update' @ L218

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:14.033Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb653 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L218:23 for 'create' @ L218, evaluation error at L218:23 for 'update' @ L218, false for 'create' @ L218

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:14.579Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb66a error. Code: 7 Message: 7 PERMISSION_DENIED: 
    Property timestamp is undefined on object. for 'create' @ L238, evaluation error at L253:24 for 'update' @ L253, Property timestamp is undefined on object. for 'create' @ L238

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:14.663Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb66e error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L253:24 for 'update' @ L253, false for 'update' @ L253

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:14.705Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb670 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L253:24 for 'update' @ L253, false for 'update' @ L253

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:14.786Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb674 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L259:24 for 'delete' @ L259, false for 'delete' @ L259

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:14.952Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb67b error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L62, false for 'update' @ L67

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:14.989Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb67d error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'update' @ L67

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:15.081Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb681 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L62, false for 'update' @ L67

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:15.155Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb685 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L67:24 for 'update' @ L67, false for 'update' @ L67

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:15.233Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb688 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    Property userId is undefined on object. for 'create' @ L238, Property userId is undefined on object. for 'create' @ L238

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:15.253Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb689 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L238

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:15.277Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb68a error. Code: 7 Message: 7 PERMISSION_DENIED: 
    Property type is undefined on object. for 'create' @ L238, Property type is undefined on object. for 'create' @ L238

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:15.298Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb68b error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L238

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:15.320Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb68c error. Code: 7 Message: 7 PERMISSION_DENIED: 
    Property timestamp is undefined on object. for 'create' @ L238, Property timestamp is undefined on object. for 'create' @ L238

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:15.343Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb68d error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L238

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:15.373Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb68e error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L238

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:15.416Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb690 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'create' @ L238

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:15.623Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb69a error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L253:24 for 'update' @ L253, false for 'update' @ L253

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:15.665Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb69c error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L253:24 for 'update' @ L253, false for 'update' @ L253

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:15.719Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb69e error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L253:24 for 'update' @ L253, false for 'update' @ L253

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:15.796Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb6a2 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    evaluation error at L259:24 for 'delete' @ L259, false for 'delete' @ L259

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

  console.warn
    [2025-10-29T13:25:15.832Z]  @firebase/firestore: Firestore (10.14.1): GrpcConnection RPC 'Write' stream 0x404cb6a4 error. Code: 7 Message: 7 PERMISSION_DENIED: 
    false for 'delete' @ L259

      at Logger.defaultLogHandler [as _logHandler] (node_modules/@firebase/logger/src/logger.ts:115:57)
      at Logger.Object.<anonymous>.Logger.warn (node_modules/@firebase/logger/src/logger.ts:206:5)
      at logWarn (node_modules/@firebase/firestore/src/util/log.ts:69:15)
      at ClientDuplexStreamImpl.<anonymous> (node_modules/@firebase/firestore/src/platform/node/grpc_connection.ts:309:9)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client.ts:705:18)
      at Object.onReceiveStatus (node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)
      at node_modules/@grpc/grpc-js/src/resolving-call.ts:132:24

FAIL ./firestore.test.js (5.473 s)
  Groups Collection - Read Permissions
    ΓêÜ user can read groups they are a member of (406 ms)
    ├ù user can query groups using array-contains filter (28 ms)
    ΓêÜ user cannot read groups they are not a member of (56 ms)
    ΓêÜ unauthenticated user cannot read groups (50 ms)
  Groups Collection - Public Group Discovery
    ΓêÜ any authenticated user can read public groups (65 ms)
    ΓêÜ non-member cannot read private groups (50 ms)
    ├ù user can query public groups with isPublic filter (21 ms)
    ΓêÜ member can read private group even when isPublic is false (63 ms)
  Groups Collection - Member Limit Validation
    ΓêÜ user can create group with 1 member (minimum) (27 ms)
    ΓêÜ user can create group with 100 members (maximum) (30 ms)
    ΓêÜ user cannot create group with 0 members (200 ms)
    ΓêÜ user cannot create group with 101 members (exceeds maximum) (26 ms)
    ΓêÜ user cannot update group to exceed 100 members (50 ms)
    ΓêÜ owner must remain in memberIds when updating (43 ms)
  Groups Collection - Create Permissions
    ΓêÜ user can create group with themselves as member and owner (23 ms)
    ΓêÜ user can create group with themselves and others as members (22 ms)
    ΓêÜ user cannot create group without themselves as member (24 ms)
    ΓêÜ user cannot create group with different owner (24 ms)
  Tasks Collection - Group Membership Validation
    ├ù group member can read group tasks (19 ms)
    ├ù non-member cannot read group tasks (20 ms)
    ΓêÜ user can create group task if they are a group member (39 ms)
    ├ù non-member cannot create group task (41 ms)
  Tasks Collection - Assignment Limit Validation
    ΓêÜ user can create task with 1 assignee (minimum) (27 ms)
    ΓêÜ user can create task with 50 assignees (maximum) (24 ms)
    ΓêÜ user cannot create task with 0 assignees (22 ms)
    ΓêÜ user cannot create task with 51 assignees (exceeds maximum) (27 ms)
    ΓêÜ user cannot update task to exceed 50 assignees (50 ms)
    ΓêÜ user cannot update task to have 0 assignees (42 ms)
  Tasks Collection - Read Permissions
    ΓêÜ user can read tasks they created (57 ms)
    ΓêÜ user can read tasks they are assigned to (37 ms)
    ├ù user can query tasks using userId filter (22 ms)
    ΓêÜ user can query tasks using assignedTo filter (48 ms)
    ΓêÜ user cannot read tasks they did not create or are not assigned to (37 ms)
  Chats Collection - Read Permissions
    ΓêÜ user can read chats they are a participant in (40 ms)
    ├ù user can query chats using participants filter (19 ms)
    ΓêÜ user cannot read chats they are not a participant in (42 ms)
  Chats Collection - Create Permissions with Participant Limits
    ΓêÜ user can create DIRECT chat with exactly 2 participants (23 ms)
    ΓêÜ user cannot create DIRECT chat with 1 participant (23 ms)
    ΓêÜ user cannot create DIRECT chat with 3 participants (25 ms)
    ΓêÜ user can create GROUP chat with 2 participants (23 ms)
    ΓêÜ user can create GROUP chat with 3 participants (23 ms)
    ΓêÜ user cannot create GROUP chat with 1 participant (26 ms)
    ΓêÜ user cannot create chat without themselves as participant (23 ms)
  Chats Collection - Update Permissions
    ΓêÜ participant can update chat metadata (40 ms)
    ΓêÜ participant cannot modify participants array (39 ms)
    ΓêÜ participant cannot remove themselves from participants (40 ms)
    ΓêÜ non-participant cannot update chat (40 ms)
  Messages Subcollection - Access Control
    ├ù chat participant can read messages (19 ms)
    ├ù non-participant cannot read messages (18 ms)
    ├ù participant can create message with valid text (45 ms)
    ├ù participant can create message with valid imageUrl (44 ms)
    ΓêÜ non-participant cannot create message (54 ms)
  Messages Subcollection - Content Validation
    ΓêÜ cannot create message without text, imageUrl, or documentUrl (42 ms)
    ΓêÜ cannot create message with text exceeding 10000 characters (45 ms)
    ├ù can create message with text at 10000 characters (boundary) (40 ms)
    ΓêÜ cannot create message with external imageUrl (40 ms)
    ΓêÜ cannot create message with external documentUrl (44 ms)
    ΓêÜ cannot create message with mismatched senderId (39 ms)
    ├ù sender can update their own message (21 ms)
    ├ù sender can delete their own message (21 ms)
    ├ù other participant cannot delete message they did not send (18 ms)
  Typing Status Subcollection - Access Control
    ├ù participant can read typing status (20 ms)
    ├ù non-participant cannot read typing status (19 ms)
    ΓêÜ participant can write their own typing status (39 ms)
    ΓêÜ participant cannot write another users typing status (37 ms)
    ΓêÜ non-participant cannot write typing status (40 ms)
  Permission Denied Scenarios
    ΓêÜ querying groups without filter returns empty results for non-members (56 ms)
    ΓêÜ querying tasks without filter returns empty results for non-owners (61 ms)
    ΓêÜ querying chats without filter returns empty results for non-participants (48 ms)
  Group Activities - Read Permissions
    ΓêÜ user can read activities from groups they are members of (denormalized memberIds) (38 ms)
    ├ù user can read activities using isGroupMember fallback (no memberIds) (18 ms)
    ├ù user cannot read activities from groups they are not members of (denormalized) (41 ms)
    ├ù user cannot read activities from groups they are not members of (fallback) (27 ms)
  Group Activities - Create Permissions
    ΓêÜ group member can create activity with memberIds (43 ms)
    ├ù non-member cannot create activity (41 ms)
    ├ù creator must be in memberIds array (36 ms)
  Notifications Collection - Enhanced Rules
    ΓêÜ user can read their own notifications (48 ms)
    ΓêÜ user cannot read other users notifications (60 ms)
    ΓêÜ user cannot create notifications (client-side blocked) (24 ms)
    ΓêÜ user can update only the read field of their notification (43 ms)
    ΓêÜ user cannot update other fields of their notification (41 ms)
    ΓêÜ user cannot update multiple fields including read (42 ms)
    ΓêÜ user can delete their own notifications (43 ms)
    ΓêÜ user cannot delete other users notifications (37 ms)
  Authentication Rules - Basic Access Control
    ΓêÜ unauthenticated user cannot read users collection (48 ms)
    ΓêÜ authenticated user can read their own user document (48 ms)
    ΓêÜ authenticated user can read other users public data (47 ms)
    ΓêÜ authenticated user cannot create document for another user (23 ms)
    ΓêÜ authenticated user cannot update another users document (37 ms)
  Users Collection - Profile Picture URL Validation
    ΓêÜ user can create profile with valid Firebase Storage URL (22 ms)
    ΓêÜ user can create profile with empty profileImageUrl (19 ms)
    ΓêÜ user can create profile without profileImageUrl field (28 ms)
    ΓêÜ user cannot create profile with external URL (22 ms)
    ΓêÜ user can update profile with valid Firebase Storage URL (34 ms)
    ΓêÜ user cannot update profile with external URL (39 ms)
  Notifications Collection - Create Permissions
    ΓêÜ authenticated user can create notification with valid data (30 ms)
    ΓêÜ authenticated user can create notification for any user (24 ms)
    ΓêÜ authenticated user cannot create notification without userId (25 ms)
    ΓêÜ authenticated user cannot create notification with empty userId (19 ms)
    ΓêÜ authenticated user cannot create notification without type (25 ms)
    ΓêÜ authenticated user cannot create notification with empty type (20 ms)
    ΓêÜ authenticated user cannot create notification without timestamp (22 ms)
    ΓêÜ authenticated user cannot create notification with old timestamp (23 ms)
    ΓêÜ authenticated user cannot create notification with message exceeding 500 characters (30 ms)
    ΓêÜ authenticated user can create notification with message at 500 character limit (19 ms)
    ΓêÜ unauthenticated user cannot create notification (23 ms)
  Notifications Collection - Read Permissions
    ΓêÜ user can read their own notifications (41 ms)
    ΓêÜ user cannot read other users notifications (48 ms)
    ΓêÜ unauthenticated user cannot read notifications (37 ms)
  Notifications Collection - Update Permissions
    ΓêÜ user can update read status of their own notification (38 ms)
    ΓêÜ user cannot update other fields of their notification (42 ms)
    ΓêÜ user cannot update read status and other fields together (42 ms)
    ΓêÜ user cannot update other users notifications (53 ms)
  Notifications Collection - Delete Permissions
    ΓêÜ user can delete their own notifications (39 ms)
    ΓêÜ user cannot delete other users notifications (38 ms)
    ΓêÜ unauthenticated user cannot delete notifications (37 ms)

  ΓùÅ Groups Collection - Read Permissions ΓÇ║ user can query groups using array-contains filter

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Groups Collection - Public Group Discovery ΓÇ║ user can query public groups with isPublic filter

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Tasks Collection - Group Membership Validation ΓÇ║ group member can read group tasks

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Tasks Collection - Group Membership Validation ΓÇ║ non-member cannot read group tasks

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Tasks Collection - Group Membership Validation ΓÇ║ non-member cannot create group task

    Expected request to fail, but it succeeded.

      465 |         // Test: user3 cannot create a group task
      466 |         const user3Context = testEnv.authenticatedContext(USER3_ID);
    > 467 |         await assertFails(
          |         ^
      468 |             user3Context.firestore().collection('tasks').doc(TASK1_ID).set({
      469 |                 title: 'Unauthorized Group Task',
      470 |                 userId: USER3_ID,

      at node_modules/@firebase/rules-unit-testing/src/util.ts:138:9
      at Object.<anonymous> (firestore.test.js:467:9)

  ΓùÅ Tasks Collection - Read Permissions ΓÇ║ user can query tasks using userId filter

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Chats Collection - Read Permissions ΓÇ║ user can query chats using participants filter

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Messages Subcollection - Access Control ΓÇ║ chat participant can read messages

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Messages Subcollection - Access Control ΓÇ║ non-participant cannot read messages

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Messages Subcollection - Access Control ΓÇ║ participant can create message with valid text

    FirebaseError: 7 PERMISSION_DENIED:

      false for 'create' @ L181, evaluation error at L198:26 for 'update' @ L198, false for 'create' @ L181

  ΓùÅ Messages Subcollection - Access Control ΓÇ║ participant can create message with valid imageUrl

    FirebaseError: 7 PERMISSION_DENIED:

      false for 'create' @ L181, evaluation error at L198:26 for 'update' @ L198, false for 'create' @ L181

  ΓùÅ Messages Subcollection - Content Validation ΓÇ║ can create message with text at 10000 characters (boundary)

    FirebaseError: 7 PERMISSION_DENIED:

      false for 'create' @ L181, evaluation error at L198:26 for 'update' @ L198, false for 'create' @ L181

  ΓùÅ Messages Subcollection - Content Validation ΓÇ║ sender can update their own message

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Messages Subcollection - Content Validation ΓÇ║ sender can delete their own message

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Messages Subcollection - Content Validation ΓÇ║ other participant cannot delete message they did not send

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Typing Status Subcollection - Access Control ΓÇ║ participant can read typing status

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Typing Status Subcollection - Access Control ΓÇ║ non-participant cannot read typing status

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Group Activities - Read Permissions ΓÇ║ user can read activities using isGroupMember fallback (no memberIds)

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Group Activities - Read Permissions ΓÇ║ user cannot read activities from groups they are not members of (denormalized)

    Expected request to fail, but it succeeded.

      1524 |         // Test: user3 cannot read the activity
      1525 |         const user3Context = testEnv.authenticatedContext(USER3_ID);
    > 1526 |         await assertFails(
           |         ^
      1527 |             user3Context.firestore().collection('group_activities').doc('activity1').get()
      1528 |         );
      1529 |     });

      at node_modules/@firebase/rules-unit-testing/src/util.ts:138:9
      at Object.<anonymous> (firestore.test.js:1526:9)

  ΓùÅ Group Activities - Read Permissions ΓÇ║ user cannot read activities from groups they are not members of (fallback)

    FirebaseError: Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.



  ΓùÅ Group Activities - Create Permissions ΓÇ║ non-member cannot create activity

    Expected request to fail, but it succeeded.

      1597 |         // Test: user3 cannot create activity
      1598 |         const user3Context = testEnv.authenticatedContext(USER3_ID);
    > 1599 |         await assertFails(
           |         ^
      1600 |             user3Context.firestore().collection('group_activities').doc('activity1').set({
      1601 |                 groupId: GROUP1_ID,
      1602 |                 userId: USER3_ID,

      at node_modules/@firebase/rules-unit-testing/src/util.ts:138:9
      at Object.<anonymous> (firestore.test.js:1599:9)

  ΓùÅ Group Activities - Create Permissions ΓÇ║ creator must be in memberIds array

    Expected request to fail, but it succeeded.

      1622 |         // Test: user1 cannot create activity without themselves in memberIds
      1623 |         const user1Context = testEnv.authenticatedContext(USER1_ID);
    > 1624 |         await assertFails(
           |         ^
      1625 |             user1Context.firestore().collection('group_activities').doc('activity1').set({
      1626 |                 groupId: GROUP1_ID,
      1627 |                 userId: USER1_ID,

      at node_modules/@firebase/rules-unit-testing/src/util.ts:138:9
      at Object.<anonymous> (firestore.test.js:1624:9)

Test Suites: 1 failed, 1 total
Tests:       22 failed, 94 passed, 116 total
Snapshots:   0 total
Time:        5.52 s, estimated 6 s
Ran all test suites matching /firestore.test.js/i.
